(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{6058:function(t,e,l){"use strict";l.r(e),l.d(e,{default:function(){return is}});var i=l(9268);function n(t){let{test:e,children:l,fallback:n}=t;return e?(0,i.jsx)(i.Fragment,{children:l}):n?(0,i.jsx)(i.Fragment,{children:"[fallback]"}):null}var a=l(4452),o=l.n(a),r=l(6006);function s(t){let{children:e}=t;return(0,i.jsx)(i.Fragment,{children:e})}let c=o()(async()=>s,{ssr:!1});var u=l(1868),d=l.n(u);function m(t){let{children:e,tooltip:l,title:n}=t;return(0,i.jsxs)("section",{className:d().chapter,children:[(0,i.jsx)("h2",{className:d()["chapter-title"],title:l,children:n}),(0,i.jsx)("div",{children:e})]})}var f=l(8115),x=l(9541),p=l(2286),h=l(6087),y=l(4166),b=l(9791),_=l(884);function v(t){let{test:e,children:l,fallback:n}=t;return null!=e?(0,i.jsx)(i.Fragment,{children:l(e)}):n?(0,i.jsx)(i.Fragment,{children:n()}):null}let j=r.memo;function g(t){let e={};for(let[l,i]of Object.entries(t))i&&(e["data-".concat(l)]="");return e}var D=l(4946),A=l.n(D);function F(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=(0,r.useRef)(null),l=(0,r.useRef)(null),i=(0,r.useRef)(0),n=(0,r.useMemo)(()=>new MutationObserver(()=>{let n=e.current,a=i.current;if(!n)return;let o=n.getBoundingClientRect().height;if(o!==a){i.current=o;let e=l.current;e&&(e.style.height="".concat(o+t,"px"))}}),[t]);(0,r.useEffect)(()=>{let a=e.current,o=l.current;if(!a||!o)return;let r=a.getBoundingClientRect().height;return i.current=r,o.style.height="".concat(r+t,"px"),n.observe(a,{subtree:!0,attributes:!0,childList:!0,characterData:!0}),()=>{n.disconnect()}},[n,t]);let a=A()["animate-height"];return{innerRef:e,outerRef:l,className:a}}function k(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,l=null;return function(){for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];null!=l&&clearTimeout(l),l=window.setTimeout(()=>{l=null,t(...n)},e)}}function w(t,e){return[...function*(t,e){let[l,i]=void 0==e?[0,t]:[t,e];for(let t=l;t<i;t++)yield t}(t,e)]}var S=l(120),N=l.n(S);let M=j(function(t){let{def:e,from:l,to:n,args:a}=t,o=(0,r.useMemo)(()=>e.fn(l,a),[e,l,a]),s=(0,_.Dv)(o);if(!s)return null;switch(s.type){case"placeholder":return(0,i.jsx)(C,{def:s});case"readonly":return(0,i.jsx)(L,{args:a,def:s,from:l});case"text":return(0,i.jsx)(V,{args:a,def:s,from:l,to:n});case"number":return(0,i.jsx)(O,{args:a,def:s,from:l,to:n});case"textarea":return(0,i.jsx)(P,{args:a,def:s,from:l,to:n});case"checkbox":return(0,i.jsx)(T,{args:a,def:s,from:l,to:n});case"custom":return(0,i.jsx)(R,{args:a,def:s,from:l,to:n})}});function C(t){let{def:e}=t;return(0,i.jsx)("span",{"data-title":e.title,...e.spanProps})}function L(t){let{def:e,from:l,args:n}=t,a=(0,r.useMemo)(()=>e.from(l,n),[e,l,n]),o=String((0,_.Dv)(a)||"");return(0,i.jsx)("span",{className:N()["read-only"],"data-title":e.title,...e.spanProps,children:o})}function V(t){let{def:e,from:l,to:n,args:a}=t,o=(0,r.useMemo)(()=>e.from(l,a),[e,l,a]),s=(0,_.Dv)(o),c=(0,r.useMemo)(()=>e.to(n,a),[e,n,a]),u=(0,_.b9)(c),d=(0,r.useRef)(null);return(0,r.useEffect)(()=>{d.current&&d.current.value!==s&&(d.current.value=s)},[s]),(0,i.jsx)("input",{ref:d,className:N().input,"data-title":e.title,defaultValue:s,onChange:k(t=>{u(t.target.value)}),...e.inputProps})}function O(t){let{def:e,from:l,to:n,args:a}=t,o=(0,r.useMemo)(()=>e.from(l,a),[e,l,a]),s=(0,_.Dv)(o),c=(0,r.useMemo)(()=>e.to(n,a),[e,n,a]),u=(0,_.b9)(c),d=(0,r.useRef)(null);return(0,r.useEffect)(()=>{d.current&&Number(d.current.value)!==s&&(d.current.value=String(s||""))},[s]),(0,i.jsx)("input",{ref:d,className:N().input,"data-title":e.title,defaultValue:s||"",onChange:k(t=>{u(Number(t.target.value))}),...e.inputProps})}function P(t){let{def:e,from:l,to:n,args:a}=t,o=(0,r.useMemo)(()=>e.from(l,a),[e,l,a]),s=(0,_.Dv)(o),c=(0,r.useMemo)(()=>e.to(n,a),[e,n,a]),u=(0,_.b9)(c),d=(0,r.useRef)(null);return(0,r.useEffect)(()=>{d.current&&d.current.value!==s&&(d.current.value=s)}),(0,i.jsx)("textarea",{ref:d,className:N().input,"data-title":e.title,defaultValue:s,onChange:k(t=>{u(t.target.value)}),...e.textareaProps})}function T(t){let{def:e,from:l,to:n,args:a}=t,o=(0,r.useMemo)(()=>e.from(l,a),[e,l,a]),s=(0,_.Dv)(o),c=(0,r.useMemo)(()=>e.to(n,a),[e,n,a]),u=(0,_.b9)(c);return(0,i.jsxs)("label",{className:N()["checkbox-label"],children:[(0,i.jsx)("span",{children:s?"●":" "}),(0,i.jsx)("input",{checked:s,className:N().input,"data-title":e.title,type:"checkbox",onClick:()=>u(t=>!t),...e.inputProps})]})}function R(t){let{def:e,from:l,to:n,args:a}=t;return(0,i.jsx)(i.Fragment,{children:e.render(l,n,a)})}var G=l(8147),B=l.n(G);function H(t){let{layout:e,listDef:l,rowDef:n,detailsDef:a,disableSort:o,disableAdd:s,abbreviatedOnStart:c,from:u,to:d,add:m,remove:f}=t,[x,y]=(0,r.useState)(!!c),{innerRef:v,outerRef:j,className:D}=F(2),A=(0,_.Dv)(l.from(u)),k=(0,_.b9)(l.to(d)),w=(0,p.Dy)((0,p.VT)(p.we),(0,p.VT)(p.Lg,{coordinateGetter:h.is})),S=(0,r.useCallback)(t=>{let{active:e,over:l}=t;l&&e.id!==l.id&&k(t=>{let i=t.findIndex(t=>t.id===e.id),n=t.findIndex(t=>t.id===l.id);return(0,h.Rp)(t,i,n)})},[k]);return(0,i.jsx)(p.LB,{collisionDetection:p.pE,sensors:w,onDragEnd:S,children:(0,i.jsx)(h.Fo,{items:A,strategy:h.qw,children:(0,i.jsxs)("div",{className:(0,b.Z)(B()["sortable-list"],e),children:[(0,i.jsx)(E,{abbreviate:a?{value:x,setter:y}:void 0,add:m,disableAdd:s,remove:f,to:d}),(0,i.jsx)("div",{ref:j,className:(0,b.Z)(B().table,D),children:(0,i.jsxs)("div",{ref:v,children:[(0,i.jsx)(z,{titles:n.inputDefs.map(t=>t.title)}),(0,i.jsx)("ul",{className:B().items,...g({abbreviated:x}),children:A.map(t=>(0,i.jsx)(Z,{abbreviated:x,detailsDef:a,disableSort:o,from:u,item:t,rowDef:n,to:d},t.id))})]})})]})})})}function Z(t){let{item:e,rowDef:l,detailsDef:a,disableSort:o,abbreviated:r,from:s,to:c}=t,{attributes:u,listeners:d,setNodeRef:m,setActivatorNodeRef:f,transform:x,transition:p,isDragging:b}=(0,h.nB)({id:e.id}),j={transform:y.ux.Transform.toString(x),transition:p},D=(0,_.Dv)(l.args(e));return(0,i.jsx)("li",{ref:o?void 0:m,style:o?void 0:j,...g({dragging:b}),children:(0,i.jsxs)("div",{className:B()["content-container"],children:[(0,i.jsxs)("div",{className:B().content,children:[(0,i.jsx)("ul",{className:B()["content-list"],children:l.inputDefs.map(t=>(0,i.jsx)("li",{children:(0,i.jsx)(M,{args:D,def:t,from:s,to:c})},t.id||t.title))}),(0,i.jsx)(v,{test:a,children:t=>(0,i.jsx)("div",{className:B().details,...g({abbreviated:r}),children:(0,i.jsx)("ul",{className:B()["details-list"],children:t.inputDefs.map(t=>(0,i.jsx)("li",{children:(0,i.jsx)(M,{args:D,def:t,from:s,to:c})},t.id||t.title))})})})]}),(0,i.jsx)("div",{className:B()["handle-container"],children:(0,i.jsx)(n,{test:!o,children:(0,i.jsx)("button",{ref:f,type:"button",...u,...d,children:"::"})})}),(0,i.jsx)("div",{className:B()["dragging-border"]})]})})}function E(t){let{add:e,remove:l,abbreviate:a,to:o,disableAdd:r}=t,s=(0,_.b9)(e(o)),c=(0,_.b9)(l(o));return(0,i.jsxs)("menu",{className:B().controller,...g({"disable-add":r}),children:[(0,i.jsxs)(n,{test:!r,children:[(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:B()["controller-button"],type:"button",onClick:s,children:"+"})}),(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:B()["controller-button"],type:"button",onClick:c,children:"-"})})]}),(0,i.jsx)(v,{test:a,children:t=>(0,i.jsx)("li",{children:(0,i.jsxs)("button",{className:B()["controller-button"],type:"button",onClick:()=>t.setter(t=>!t),children:[(0,i.jsx)("span",{className:(0,b.Z)({[B().hide]:!t.value}),children:"詳細を表示"}),(0,i.jsx)("span",{className:(0,b.Z)({[B().hide]:t.value}),children:"省略する"})]})})})]})}function z(t){let{titles:e}=t;return(0,i.jsxs)("div",{className:B()["head-contaienr"],children:[(0,i.jsx)("ul",{className:(0,b.Z)(B()["head-list"]),children:e.map(t=>(0,i.jsx)("li",{children:t},t))}),(0,i.jsx)("div",{})]})}function I(t){let{itemsAtom:e,keys:l,layout:n,initialize:a,applyCheckbox:o,inputProps:s,textareaProps:c,disableAdd:u,disableSort:d,abbreviatedOnStart:m}=t,p=(0,r.useMemo)(()=>(0,x.xu)(t=>(0,f.cn)(null,(l,i,n)=>{i(e,e=>{let l=e.findIndex(e=>e.id===t),i=e[l];if(-1===l||!i)return e;let a=n(i);if(a===i)return e;let o=[...e];return o[l]=a,o})})),[e]),h=(0,r.useMemo)(()=>(0,x.xu)(t=>(0,f.cn)(l=>{let i=l(e);return i.find(e=>e.id===t)})),[e]),y=(0,r.useMemo)(()=>(0,f.cn)(null,(t,l)=>{l(e,t=>{let e=a();return[...t,e]})}),[a,e]),b=(0,r.useMemo)(()=>(0,f.cn)(null,(t,l)=>{l(e,t=>t.slice(0,-1))}),[e]),_=(0,r.useCallback)(()=>y,[y]),v=(0,r.useCallback)(()=>b,[b]),j=(0,r.useMemo)(()=>({inputDefs:[{title:"備考",fn:()=>(0,f.cn)(()=>({type:"textarea",title:"備考",from:(t,e)=>(0,f.cn)(l=>{var i,n;return null!==(n=null===(i=l(t.getterFamily(e)))||void 0===i?void 0:i.備考)&&void 0!==n?n:""}),to:(t,e)=>(0,f.cn)(null,(l,i)=>{i(t.setterFamily(e),t=>({...t,備考:""}))}),textareaProps:{rows:3,placeholder:"備考...",...c}}))}],args:Y}),[c]),g=(0,r.useMemo)(()=>({from:()=>e,to:()=>e}),[e]),D=(0,r.useMemo)(()=>{let t=l.map(t=>({title:String(t),fn:()=>(0,f.cn)(()=>({type:"text",title:String(t),from:(e,l)=>(0,f.cn)(i=>{var n,a;return String(null!==(a=null===(n=i(e.getterFamily(l)))||void 0===n?void 0:n[t])&&void 0!==a?a:"")}),to:(e,l)=>(0,f.cn)(null,(i,n)=>{n(e.setterFamily(l),e=>({...e,[t]:""}))}),inputProps:null==s?void 0:s[t]}))}));return[...t,...o?[{title:"適用",fn:()=>(0,f.cn)(()=>({type:"checkbox",title:"適用",from:(t,e)=>(0,f.cn)(l=>{var i,n;return null!==(n=null===(i=l(t.getterFamily(e)))||void 0===i?void 0:i.適用)&&void 0!==n&&n}),to:(t,e)=>(0,f.cn)(null,(l,i)=>{i(t.setterFamily(e),t=>({...t,適用:!t.適用}))})}))}]:[]]},[l,s,o]),A=(0,r.useMemo)(()=>({inputDefs:D,args:Y}),[D]);return(0,i.jsx)(H,{abbreviatedOnStart:m,add:_,detailsDef:j,disableAdd:u,disableSort:d,from:{getterFamily:h},layout:n,listDef:g,remove:v,rowDef:A,to:{setterFamily:p}})}let Y=(0,x.xu)(t=>(0,f.cn)(t.id),(t,e)=>t.id===e.id);var W=l(5842);let K=()=>({id:(0,W.x0)(),特技名:"",LV:"",種別:"",タイミング:"",判定:"",目標値:"",対象:"",射程:"",コスト:"",MC:"",制限:"",出典:"",備考:""}),q=(0,f.cn)([K()]),J=["特技名","LV","種別","タイミング","判定","目標値","対象","射程","コスト","MC","制限","出典"],U=(0,f.cn)([K()]),Q=()=>({id:(0,W.x0)(),魔法名:"",種別:"",タイミング:"",効果時間:"",判定:"",目標値:"",対象:"",射程:"",コスト:"",MC:"",制限:"",出典:"",備考:""}),X=(0,f.cn)([Q()]),$=["魔法名","種別","タイミング","効果時間","判定","目標値","対象","射程","コスト","MC","制限","出典"];var tt=l(3940),te=l.n(tt);function tl(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m,{title:"クラス特技",children:(0,i.jsx)(I,{abbreviatedOnStart:!0,initialize:K,itemsAtom:q,keys:J,layout:te()["ability-layout"]})}),(0,i.jsx)(m,{title:"ワークス特技",children:(0,i.jsx)(I,{abbreviatedOnStart:!0,initialize:K,itemsAtom:U,keys:J,layout:te()["ability-layout"]})}),(0,i.jsx)(m,{title:"魔法",children:(0,i.jsx)(I,{abbreviatedOnStart:!0,initialize:Q,itemsAtom:X,keys:$,layout:te()["magic-layout"]})})]})}let ti=()=>({id:(0,W.x0)(),適用:!0,部隊名:"",LV:"",資源:"",士気:"",筋力:"",反射:"",感覚:"",知力:"",精神:"",共感:"",HP:"",行動値:"",移動力:"",攻撃力:"",武器:"",炎熱:"",衝撃:"",体内:"",備考:""}),tn=["部隊名","LV","資源","士気","筋力","反射","感覚","知力","精神","共感","HP","行動値","移動力","攻撃力","武器","炎熱","衝撃","体内"],ta=(0,f.cn)([ti()]),to=()=>({id:(0,W.x0)(),部隊特技名:"",LV:"",種別:"",タイミング:"",判定:"",目標値:"",対象:"",射程:"",コスト:"",制限:"",備考:""}),tr=(0,f.cn)([to()]),ts=["部隊特技名","LV","種別","タイミング","判定","目標値","対象","射程","コスト","制限"];var tc=l(600),tu=l.n(tc);function td(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m,{title:"部隊",children:(0,i.jsx)(I,{abbreviatedOnStart:!0,applyCheckbox:!0,disableAdd:!0,disableSort:!0,initialize:ti,itemsAtom:ta,keys:tn,layout:tu()["table-layout"]})})," ",(0,i.jsx)(m,{title:"部隊特技",children:(0,i.jsx)(I,{abbreviatedOnStart:!0,initialize:to,itemsAtom:tr,keys:ts,layout:tu()["abilities-layout"]})})]})}let tm=()=>({id:(0,W.x0)(),適用:!0,アイテム名:"",重さ:"",個数:"",部位:"",種別:"",判定:"",射程:"",武器:"",炎熱:"",衝撃:"",体内:"",攻撃:"",命中:"",回避:"",行動:"",移動:"",備考:""}),tf=(0,f.cn)([tm()]),tx=["アイテム名","重さ","個数","種別","部位","判定","射程","武器","炎熱","衝撃","体内","攻撃","命中","回避","行動","移動"];var tp=l(371),th=l.n(tp);function ty(){return(0,i.jsx)(m,{title:"アイテム",children:(0,i.jsx)(I,{abbreviatedOnStart:!0,applyCheckbox:!0,initialize:tm,itemsAtom:tf,keys:tx,layout:th().layout})})}function tb(t){let{valueAtom:e,setterAtom:l,inputProps:n}=t,a=(0,_.Dv)(e),o=(0,_.b9)(l);return(0,i.jsx)("input",{value:a,onChange:t=>o(t.target.value),...n})}function t_(t){let{valueAtom:e,setterAtom:l,inputProps:n}=t,a=(0,_.Dv)(e),o=(0,_.b9)(l);return(0,i.jsx)("input",{value:a,onChange:t=>o(t.target.value),...n})}var tv=l(9928),tj=l.n(tv);function tg(t){let{valueAtom:e,setterAtom:l,values:n,labels:a}=t,o=(0,_.Dv)(e),r=(0,_.b9)(l);return(0,i.jsx)("div",{className:tj()["toggle-box"],children:(0,i.jsx)("ul",{className:tj().list,children:n.map(t=>(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:tj()["item-button"],type:"button",onClick:()=>r(t),...g({selected:t===o}),children:a?a[t]:t})},t))})})}var tD=l(1903),tA=l.n(tD);function tF(t){let{modalRef:e,onClose:l,children:n}=t;return(0,i.jsx)("dialog",{ref:e,className:tA().modal,onClick:l,children:(0,i.jsx)("div",{onClick:t=>t.stopPropagation(),children:n})})}function tk(t){let{show:e,modalRef:l,onClose:n,children:a}=t,o=e?a():null;return(0,i.jsx)(tF,{modalRef:l,onClose:n,children:o})}function tw(){let t=(0,r.useRef)(null),[e,l]=(0,r.useState)(!1),i=(0,r.useRef)(0),n=(0,r.useCallback)(()=>{t.current&&(i.current=window.scrollY,document.body.style.top="-".concat(window.scrollY,"px"),l(!0),t.current.showModal())},[]),a=(0,r.useCallback)(()=>{t.current&&(document.body.style.top="",t.current.close(),l(!1),window.scrollTo(0,i.current))},[]);return{ref:t,openDialog:n,closeDialog:a,show:e}}function tS(t){return Object.entries(t)}let tN={"{":{type:"open"},"}":{type:"close"},":":{type:"separator"}};var tM=l(3361),tC=l.n(tM);function tL(t){let{valueAtom:e,setterAtom:l,placeholder:n,layout:a}=t,o=(0,_.Dv)(e),r=(0,_.b9)(l),{ref:s,openDialog:c,closeDialog:u,show:d}=tw();return(0,i.jsxs)("div",{className:(0,b.Z)(a),children:[(0,i.jsx)("div",{className:tC().wrapper,onClick:c,children:(0,i.jsx)(tV,{placeholder:n,value:o})}),(0,i.jsx)(tk,{modalRef:s,show:d,onClose:u,children:()=>(0,i.jsx)(tO,{setter:r,value:o,onClose:u})})]})}function tV(t){let{value:e,placeholder:l}=t,n=(0,r.useMemo)(()=>(function(t){let e=[],l={text:""},i=!1,n=!1;for(let a of t)switch(a.type){case"open":i=!0,l.text&&(e.push(l),l={text:""});break;case"separator":if(!i)break;n=!0;break;case"close":i=!1,n=!1,e.push(l),l={text:""};break;case"text":i&&!n?l.text+=a.text:i&&n?l.ruby=a.text:l.text=a.text}return l.text&&e.push(l),e})(function(t){let e=[],l="",i=!1;for(let n of t)i?(l+=n,i=!1):"\\"===n?i=!0:n in tN?(e.push({type:"text",text:l}),l="",e.push(tN[n])):l+=n;return l&&e.push({type:"text",text:l}),e.filter(t=>"text"!==t.type||t.text)}(e||l)),[e,l]);return(0,i.jsx)("span",{className:(0,b.Z)("show",tC().show),...g({placeholdered:""===e&&""!==l}),children:n.map((t,e)=>{let{text:l,ruby:n}=t;return n?(0,i.jsxs)("ruby",{children:[l,(0,i.jsx)("rt",{children:n})]},e):(0,i.jsx)("span",{children:l},e)})})}function tO(t){let{value:e,setter:l,onClose:n}=t;return(0,i.jsxs)("div",{className:tC().modal,children:[(0,i.jsx)("p",{className:tC()["modal-title"],children:"ルビ付き文字列入力"}),(0,i.jsxs)("ul",{className:tC().description,children:[(0,i.jsx)("li",{children:"{漢字:かんじ} のような形式でルビ付きの文字列を入力できます"}),(0,i.jsx)("li",{children:"{や}、:を使いたいときは\\を使って \\{ のように記述します"})]}),(0,i.jsx)("input",{className:tC().input,type:"text",value:e,onChange:t=>l(t.target.value)}),(0,i.jsx)("button",{className:tC().close,type:"button",onClick:n,children:"確定する"})]})}let tP=(0,f.cn)(""),tT=(0,f.cn)(1),tR=["ロード","メイジ","アーティスト","投影体"],tG=(0,f.cn)("ロード"),tB=(0,f.cn)(""),tH=(0,f.cn)("");var tZ=l(3923),tE=l.n(tZ);let tz=(0,f.cn)(t=>t(tT),(t,e,l)=>{let i=parseInt(l,10);Number.isNaN(i)||e(tT,i)});function tI(){return(0,i.jsxs)("div",{className:tE()["base-info"],children:[(0,i.jsx)(tL,{layout:tE()["character-name"],placeholder:"{名前:なまえ}を{入力:にゅうりょく}...",setterAtom:tP,valueAtom:tP}),(0,i.jsxs)("div",{className:tE()["class-info"],children:[(0,i.jsxs)("label",{className:tE()["character-level"],children:[(0,i.jsx)("span",{children:"Lv: "}),(0,i.jsx)(t_,{inputProps:{className:tE()["level-input"]},setterAtom:tz,valueAtom:tT})]}),(0,i.jsx)(tg,{setterAtom:tG,valueAtom:tG,values:tR}),(0,i.jsx)(tY,{}),(0,i.jsx)(tb,{inputProps:{placeholder:"ワークス",className:tE()["style-input"],list:"gcr-works"},setterAtom:tB,valueAtom:tB})]})]})}function tY(){let t=(0,_.Dv)(tG);return(0,i.jsx)(tb,{inputProps:{placeholder:"スタイル",className:tE()["style-input"],list:"gcr-styles-".concat(t)},setterAtom:tH,valueAtom:tH})}var tW=l(7326),tK=l.n(tW),tq=l(337),tJ=l.n(tq);function tU(t){let{valueAtom:e,setterAtom:l,isHtmlAtom:n,setIsHTMLAtom:a,placeholder:o,layout:s}=t,c=(0,_.Dv)(e),u=c||o,d=!c,m=(0,r.useMemo)(()=>(0,f.cn)(""),[]),x=(0,r.useMemo)(()=>(0,f.cn)(null,(t,e)=>{let i=t(m),a=t(n);e(l,a?tK().sanitize(i):i)}),[n,l,m]),p=(0,r.useMemo)(()=>(0,f.cn)(null,(t,l)=>{let i=t(e),a=t(n);l(m,a?tK().sanitize(i):i)}),[n,e,m]),h=(0,_.b9)(x),y=(0,_.b9)(p),v=(0,_.Dv)(n),j=v?tK().sanitize(u):u,{ref:D,openDialog:A,closeDialog:F,show:k}=tw(),w=()=>{h(),F()},S=()=>{y(),A()};return(0,i.jsxs)("div",{className:(0,b.Z)(s,tJ().wrapper),children:[(0,i.jsx)("button",{className:tJ()["open-button"],type:"button",onClick:S,children:"編集する"}),v?(0,i.jsx)("div",{className:tJ()["extra-text"],dangerouslySetInnerHTML:{__html:j},...g({placeholder:d})}):(0,i.jsx)("pre",{className:tJ()["extra-text"],...g({placeholder:d}),children:u}),(0,i.jsx)(tk,{modalRef:D,show:k,onClose:w,children:()=>(0,i.jsx)(tX,{isHtmlAtom:n,layout:s,placeholder:o,rawAtom:m,setIsHTMLAtom:a,setterAtom:l,valueAtom:e,onClose:w})})]})}let tQ=["HTML","テキスト"];function tX(t){let{isHtmlAtom:e,setIsHTMLAtom:l,placeholder:n,rawAtom:a,onClose:o}=t,s=(0,r.useMemo)(()=>(0,f.cn)(t=>t(e)?"HTML":"テキスト"),[e]),c=(0,r.useMemo)(()=>(0,f.cn)(null,(t,e,i)=>e(l,"HTML"===i)),[l]),u=(0,_.Dv)(a),d=(0,_.b9)(a);return(0,i.jsxs)("div",{className:tJ().modal,children:[(0,i.jsx)("p",{className:tJ()["modal-title"],children:"テキスト入力"}),(0,i.jsx)(tg,{setterAtom:c,valueAtom:s,values:tQ}),(0,i.jsxs)("ul",{className:tJ().description,children:[(0,i.jsx)("li",{children:"通常のテキストかHTMLのいずれかを入力できます。"}),(0,i.jsx)("li",{children:"script要素など、一部の危険なHTMLは反映されません。"}),(0,i.jsx)("li",{children:"別のテキストエディタで編集してコピー＆ペーストすることを推奨します。"})]}),(0,i.jsx)("textarea",{className:tJ().textarea,placeholder:n,value:u,onChange:t=>d(t.target.value)}),(0,i.jsx)("button",{className:tJ().close,type:"button",onClick:o,children:"確定する"})]})}let t$=()=>({id:(0,W.x0)(),能力基本値:{筋力:!1,反射:!1,感覚:!1,知力:!1,精神:!1,共感:!1},習得特技:["","",""],備考:""}),t0=(0,f.cn)([t$()]),t2=(0,f.cn)(null,(t,e,l)=>{let i=t(t0),n=l(i);e(t0,n)}),t1=(0,x.xu)(t=>(0,f.cn)(e=>{let l=e(t0);return l.find(e=>e.id===t)})),t9=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{let n=e(t0),a=n.findIndex(e=>e.id===t),o=n[a];if(!o)return;let r=i(o),s=n.slice();s[a]=r,l(t0,s)})),t3=(0,x.xu)(t=>(0,f.cn)(e=>{var l;return(null===(l=e(t1(t)))||void 0===l?void 0:l.備考)||""})),t6=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{l(t9(t),t=>({...t,備考:i}))})),t8=(0,f.cn)(null,(t,e)=>{let l=t(t0);e(t0,[...l,t$()])}),t4=(0,f.cn)(null,(t,e)=>{let l=t(t0);e(t0,l.slice(0,-1))}),t5=(0,f.cn)(t=>{let e=t(t0),l={筋力:0,反射:0,感覚:0,知力:0,精神:0,共感:0};for(let t of e)for(let[e,i]of tS(t.能力基本値))l[e]+=i?1:0;return l}),t7=(0,x.xu)(t=>(0,f.cn)(e=>e(t5)[t])),et=(0,f.cn)(""),ee=(0,f.cn)(!0);function el(){return(0,i.jsx)(m,{title:"その他メモ",children:(0,i.jsx)(tU,{isHtmlAtom:ee,layout:"",placeholder:"その他のテキスト...",setIsHTMLAtom:ee,setterAtom:et,valueAtom:et})})}var ei=l(3317),en=l.n(ei);let ea=["筋力","反射","感覚","知力","精神","共感"];function eo(){let t=(0,f.cn)({筋力:0,反射:0,感覚:0,知力:0,精神:0,共感:0,備考:""}),e=(0,x.xu)(e=>(0,f.cn)(l=>l(t)[e])),l=(0,x.xu)(e=>(0,f.cn)(null,(l,i,n)=>{let a=l(t),o={...a,[e]:n};i(t,o)})),i=(0,f.cn)(e=>e(t).備考,(e,l,i)=>{l(t,{...e(t),備考:i})});return[t,e,l,i]}let[er,es,ec,eu]=eo(),[ed,em,ef,ex]=eo(),[ep,eh,ey,eb]=eo(),e_=(0,f.cn)(""),ev=(0,f.cn)(""),ej=(0,x.xu)(t=>(0,f.cn)(e=>{let l=e(es(t)),i=e(em(t)),n=e(eh(t)),a=e(t7(t));return l+i+n+Number(a)})),[eg,eD,eA,eF]=eo(),[ek,ew,eS,eN]=eo(),eM=(0,f.cn)(""),eC=(0,x.xu)(t=>(0,f.cn)(e=>{let l=e(ej(t)),i=e(eD(t)),n=e(ew(t));return Math.floor(l/3)+i+n}));var eL=l(5840),eV=l.n(eL);function eO(){return(0,i.jsx)(m,{title:"成長履歴",children:(0,i.jsx)(H,{abbreviatedOnStart:!0,add:eZ,detailsDef:eH,from:eT,layout:eP,listDef:eB,remove:eE,rowDef:ez,to:eR})})}let eP=eV().layout,eT={growthListAtom:t0,growthFamily:t1,growthDescriptionFamily:t3},eR={setGrowthListAtom:t2,updateGrowthFamily:t9,updateGrowthDescriptionFamily:t6,addNewGrowthAtom:t8,removeLastGrowthAtom:t4},eG=(0,x.xu)(t=>(0,f.cn)(t.id),(t,e)=>t.id===e.id),eB={from:t=>t.growthListAtom,to:t=>t.setGrowthListAtom},eH={inputDefs:[{title:"備考",fn:()=>(0,f.cn)(()=>({type:"textarea",title:"備考",from:(t,e)=>t.growthDescriptionFamily(e),to:(t,e)=>t.updateGrowthDescriptionFamily(e),textareaProps:{rows:2,placeholder:"備考..."}}))}],args:eG},eZ=t=>t.addNewGrowthAtom,eE=t=>t.removeLastGrowthAtom,ez={inputDefs:[{title:"能力基本値",fn:()=>(0,f.cn)(()=>({type:"custom",title:"能力基本値",render:(t,e,l)=>(0,i.jsx)(eI,{args:l,from:t,to:e})}))},{title:"習得特技",fn:()=>(0,f.cn)(()=>({type:"custom",title:"習得特技",render:(t,e,l)=>(0,i.jsx)(eY,{args:l,from:t,to:e})}))}],args:eG};function eI(t){let{from:e,to:l,args:n}=t,a=(0,_.Dv)(e.growthFamily(n)),o=(0,_.b9)(l.updateGrowthFamily(n));if(!a)return null;let r=Object.values(a.能力基本値).filter(t=>t).length;return(0,i.jsx)("ul",{className:eV()["stat-select"],children:ea.map(t=>(0,i.jsx)("li",{children:(0,i.jsx)("button",{className:eV()["stat-button"],type:"button",...g({selected:a.能力基本値[t]}),onClick:()=>{o(e=>{let l=e.能力基本値[t];return r>2&&!l?e:{...e,能力基本値:{...e.能力基本値,[t]:!l}}})},children:t})},t))})}function eY(t){let{from:e,to:l,args:n}=t,a=(0,_.Dv)(e.growthFamily(n)),o=(0,_.b9)(l.updateGrowthFamily(n));return a?(0,i.jsx)("ul",{className:eV().abilities,children:w(3).map(t=>(0,i.jsx)("li",{className:eV()["abilities-item"],children:(0,i.jsx)("input",{type:"text",value:a.習得特技[t],onChange:e=>{o(l=>{let i=[...l.習得特技];return i[t]=e.target.value,{...l,習得特技:i}})}})},t))}):null}let eW=(0,f.cn)({筋力:[{id:(0,W.x0)(),技能名:"格闘",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"力技",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"重武器",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"水泳",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"頑健",レベル:2,固定:!0}],反射:[{id:(0,W.x0)(),技能名:"軽武器",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"運動",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"隠密",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"回避",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"騎乗",レベル:2,固定:!0}],感覚:[{id:(0,W.x0)(),技能名:"射撃",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"手業",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"知覚",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"霊感",レベル:2,固定:!0}],知力:[{id:(0,W.x0)(),技能名:"治療",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"混沌知識",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"聖印知識",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"軍略知識",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"専門知識:",レベル:2}],精神:[{id:(0,W.x0)(),技能名:"意志",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"聖印",レベル:2,固定:!0}],共感:[{id:(0,W.x0)(),技能名:"話術",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"感性",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"情報収集",レベル:2,固定:!0},{id:(0,W.x0)(),技能名:"芸術:",レベル:2}]}),eK=(0,x.xu)(t=>(0,f.cn)(e=>e(eW)[t])),eq=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{let n=e(eW),a=n[t],o=i(a);l(eW,{...n,[t]:o})})),eJ=(0,x.xu)(t=>(0,f.cn)(e=>{let l=e(eW);for(let e of Object.values(l))for(let l of e)if(l.id===t)return l})),eU=(0,x.xu)(t=>(0,f.cn)(e=>{let l=e(eW);for(let e of Object.values(l))for(let l of e)if(l.技能名===t)return l})),eQ=(0,x.xu)(t=>(0,f.cn)(e=>{let l=e(eW);for(let[e,i]of tS(l))for(let l of i)if(l.技能名===t)return e;return"筋力"})),eX=(0,x.xu)(t=>(0,f.cn)(e=>{var l;return(null===(l=e(eJ(t)))||void 0===l?void 0:l.技能名)||""})),e$=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{let n=e(eW);for(let e of ea){let a=n[e];for(let[o,r]of a.entries())if(r.id===t){let t=a.slice();t[o]=i(r),l(eW,{...n,[e]:t});return}}})),e0=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{l(e$(t),t=>({...t,技能名:i}))})),e2=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{l(e$(t),t=>({...t,レベル:i}))})),e1=(0,x.xu)(t=>(0,f.cn)(null,(e,l)=>{var i;let n=e(eW),a=n[t].slice();a.push({id:(0,W.x0)(),技能名:"",レベル:2}),i=()=>l(eW,{...n,[t]:a}),"startViewTransition"in document?document.startViewTransition(()=>{i()}):i()}));(0,f.cn)(t=>{let e=t(eW),l=new Set;for(let t of Object.values(e))for(let e of t)l.add(e.技能名);return l});let e9=(0,f.cn)([{id:"str",能力値:"筋力",ダイス:0,固定値:0,備考:""},{id:"ref",能力値:"反射",ダイス:0,固定値:0,備考:""},{id:"sen",能力値:"感覚",ダイス:0,固定値:0,備考:""},{id:"int",能力値:"知力",ダイス:0,固定値:0,備考:""},{id:"mnd",能力値:"精神",ダイス:0,固定値:0,備考:""},{id:"sym",能力値:"共感",ダイス:0,固定値:0,備考:""}]),e3=(0,x.xu)(t=>(0,f.cn)(e=>{var l;return(null===(l=e(e9).find(e=>e.能力値===t))||void 0===l?void 0:l.ダイス)||0})),e6=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{var n;let a=null===(n=e(e9).find(e=>e.能力値===t))||void 0===n?void 0:n.id;l(e9,t=>t.map(t=>t.id===a?{...t,ダイス:i}:t))})),e8=(0,x.xu)(t=>(0,f.cn)(e=>{var l;return(null===(l=e(e9).find(e=>e.能力値===t))||void 0===l?void 0:l.固定値)||0})),e4=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{var n;let a=null===(n=e(e9).find(e=>e.能力値===t))||void 0===n?void 0:n.id;l(e9,t=>t.map(t=>t.id===a?{...t,固定値:i}:t))})),e5=(0,x.xu)(t=>(0,f.cn)(e=>{var l;return(null===(l=e(e9).find(e=>e.能力値===t))||void 0===l?void 0:l.備考)||""})),e7=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{var n;let a=null===(n=e(e9).find(e=>e.能力値===t))||void 0===n?void 0:n.id;l(e9,t=>t.map(t=>t.id===a?{...t,備考:i}:t))})),lt=(0,f.cn)([{id:(0,W.x0)(),技能:"",ダイス:0,固定値:0,備考:""}]),le=(0,x.xu)(t=>(0,f.cn)(e=>e(lt).find(e=>e.id===t))),ll=(0,x.xu)(t=>(0,f.cn)(e=>{var l;return(null===(l=e(lt).find(e=>e.id===t))||void 0===l?void 0:l.技能)||""})),li=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{l(lt,e=>e.map(e=>e.id===t?{...e,技能:i}:e))})),ln=(0,x.xu)(t=>(0,f.cn)(e=>{var l;return(null===(l=e(lt).find(e=>e.id===t))||void 0===l?void 0:l.ダイス)||0})),la=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{l(lt,e=>e.map(e=>e.id===t?{...e,ダイス:i}:e))})),lo=(0,x.xu)(t=>(0,f.cn)(e=>{var l;return(null===(l=e(lt).find(e=>e.id===t))||void 0===l?void 0:l.固定値)||0})),lr=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{l(lt,e=>e.map(e=>e.id===t?{...e,固定値:i}:e))})),ls=(0,x.xu)(t=>(0,f.cn)(e=>{var l;return(null===(l=e(lt).find(e=>e.id===t))||void 0===l?void 0:l.備考)||""})),lc=(0,x.xu)(t=>(0,f.cn)(null,(e,l,i)=>{l(lt,e=>e.map(e=>e.id===t?{...e,備考:i}:e))})),lu=(0,f.cn)(null,(t,e)=>{e(lt,t=>[...t,{id:(0,W.x0)(),技能:"",ダイス:0,固定値:0,備考:""}])}),ld=(0,f.cn)(null,(t,e)=>{e(lt,t=>t.slice(0,-1))});var lm=l(6960),lf=l.n(lm);function lx(){return(0,i.jsx)(m,{title:"判定修正(技能)",tooltip:"対象の技能を使用する判定を修正します",children:(0,i.jsx)(H,{add:lv,from:lh,layout:lp,listDef:l_,remove:lj,rowDef:lg,to:ly})})}let lp=lf().layout,lh={skillModificationDiceFamily:ln,skillModificationDescriptionFamily:ls,skillModificationValueFamily:lo,skillModificationAtom:lt,statSumAtomFamily:eC,skillModificationNameFamily:ll,skillStatFamily:eQ,skillFromNameFamily:eU,skillModificationFamily:le,statModificationDiceFamily:e3,statModificatioValueFamily:e8},ly={setSkillModificationValueFamily:lr,setSkillModificationDescriptionFamily:lc,setSkillModificationDiceFamily:la,skillModificationAtom:lt,setSkillModificationNameFamily:li},lb=(0,x.xu)(t=>(0,f.cn)(t.id),(t,e)=>t.id===e.id),l_={from:t=>t.skillModificationAtom,to:t=>t.skillModificationAtom},lv=()=>lu,lj=()=>ld,lg={inputDefs:[{title:"技能",fn:()=>(0,f.cn)({type:"text",title:"技能",from:(t,e)=>t.skillModificationNameFamily(e),to:(t,e)=>t.setSkillModificationNameFamily(e)})},{title:"ダイス",fn:()=>(0,f.cn)({type:"number",title:"ダイス",from:(t,e)=>t.skillModificationDiceFamily(e),to:(t,e)=>t.setSkillModificationDiceFamily(e)})},{title:"固定値",fn:()=>(0,f.cn)({type:"number",title:"固定値",from:(t,e)=>t.skillModificationValueFamily(e),to:(t,e)=>t.setSkillModificationValueFamily(e)})},{title:"判定値",fn:()=>(0,f.cn)({type:"readonly",title:"判定値",from:(t,e)=>(0,f.cn)(l=>{let i=l(t.skillModificationFamily(e));if(!i)return"";let n=l(t.skillModificationNameFamily(i.id)),a=l(t.skillFromNameFamily(n));if(!a)return"";let o=l(t.skillStatFamily(n)),r=l(t.skillModificationDiceFamily(e))+l(t.statModificationDiceFamily(o))+a.レベル,s=l(t.skillModificationValueFamily(e))+l(t.statSumAtomFamily(o))+l(t.statModificatioValueFamily(o));return"".concat(r,"D+").concat(s)}),spanProps:{className:lf()["readonly-cell"]}})},{title:"備考",fn:()=>(0,f.cn)({type:"text",title:"備考",from:(t,e)=>t.skillModificationDescriptionFamily(e),to:(t,e)=>t.setSkillModificationDescriptionFamily(e)})}],args:lb};var lD=l(3304),lA=l.n(lD);function lF(t){let{layout:e,columnDefs:l,from:n,to:a}=t,{innerRef:o,outerRef:r,className:s}=F(2);return(0,i.jsx)("div",{ref:r,className:(0,b.Z)(lA().container,s),children:(0,i.jsx)("ul",{ref:o,className:(0,b.Z)(e,lA().table),children:l.map(t=>(0,i.jsx)(lk,{def:t,from:n,to:a},t.id||t.title))})})}let lk=j(function(t){let{def:e,from:l,to:n}=t,a=(0,_.Dv)(e.from(l,e)),o=(0,_.b9)(e.to(n,e));return(0,i.jsxs)("li",{className:lA().column,children:[(0,i.jsx)("div",{children:e.renderTitle(e.title,o)}),(0,i.jsx)("ul",{children:a.map(t=>(0,i.jsx)(lw,{args:e.args,from:l,inputDefs:e.inputDefs,item:t,to:n},t.id))})]})}),lw=j(function(t){let{item:e,inputDefs:l,from:n,to:a,args:o}=t,r=(0,_.Dv)(o(e));return(0,i.jsx)("ul",{className:"inputs",children:l.map(t=>(0,i.jsx)("li",{children:(0,i.jsx)(M,{args:r,def:t,from:n,to:a})},t.id||t.title))})});var lS=l(5262),lN=l.n(lS);function lM(){return(0,i.jsx)(m,{title:"技能",children:(0,i.jsx)(lF,{...lT})})}function lC(t){let{skill:e,to:l}=t,n=(0,_.b9)(l.updateSkillLevelFamily(e.id));return(0,i.jsx)("ol",{className:lN()["level-selector"],children:w(2,7).map(t=>{let l=e.レベル===t;return(0,i.jsx)("li",{...g({selected:l}),children:(0,i.jsx)("button",{className:lN()["level-button"],type:"button",onClick:()=>!l&&n(t),children:t})},t)})})}let lL=lN().layout,lV=[{title:"Name",fn:(t,e)=>(0,f.cn)(l=>{let i=l(t.skillFamily(e)),n="Name";return i?i.固定?{type:"readonly",title:n,from:(t,e)=>t.skillNameFamily(e)}:{type:"text",title:n,from:(t,e)=>t.skillNameFamily(e),to:(t,e)=>t.updateSkillNameFamily(e)}:void 0})},{title:"Level",fn:(t,e)=>(0,f.cn)(l=>{let n=l(t.skillFamily(e));if(n)return{type:"custom",title:"Level",render:(t,e)=>(0,i.jsx)(lC,{skill:n,to:e})}})}],lO=(0,x.xu)(t=>(0,f.cn)(t.id),(t,e)=>t.id===e.id),lP=ea.map(t=>({title:t,inputDefs:lV,from:e=>e.skillSetFamily(t),to:e=>e.updateSkillSetFamily(t),args:lO,renderTitle:(t,e)=>(0,i.jsxs)("div",{className:lN().title,children:[(0,i.jsx)("p",{children:t}),(0,i.jsxs)("div",{className:lN().controller,children:[(0,i.jsx)("button",{className:lN()["controller-button"],type:"button",onClick:()=>e(t=>t.concat({id:(0,W.x0)(),技能名:"",レベル:2})),children:"+"}),(0,i.jsx)("button",{className:lN()["controller-button"],type:"button",onClick:()=>{e(t=>{let e=t.at(-1);return!e||e.固定?t:t.slice(0,-1)})},children:"-"})]})]})})),lT={layout:lL,from:{skillSetFamily:eK,skillFamily:eJ,skillNameFamily:eX},to:{addNewSkillFamily:e1,updateSkillNameFamily:e0,updateSkillSetFamily:eq,updateSkillLevelFamily:e2},columnDefs:lP};var lR=l(8581),lG=l.n(lR);function lB(){return(0,i.jsx)(m,{title:"判定修正(能力値)",tooltip:"対象の能力値を使用する全ての判定を修正します",children:(0,i.jsx)(H,{add:lY,disableAdd:!0,disableSort:!0,from:lZ,layout:lH,listDef:lI,remove:lW,rowDef:lK,to:lE})})}let lH=lG().layout,lZ={statModificationDiceFamily:e3,statModificatioDescriptionFamily:e5,statModificatioValueFamily:e8,statModificationAtom:e9,statSumAtomFamily:eC},lE={setStatModificationValueFamily:e4,setStatModificationDescriptionFamily:e7,setStatModificationDiceFamily:e6,statModificationAtom:e9},lz=(0,x.xu)(t=>(0,f.cn)(t.能力値),(t,e)=>t.id===e.id),lI={from:t=>t.statModificationAtom,to:t=>t.statModificationAtom},lY=()=>(0,f.cn)(null,()=>{}),lW=lY,lK={inputDefs:[{title:"",fn:()=>(0,f.cn)({type:"readonly",title:"能力値",from:(t,e)=>(0,f.cn)(e),spanProps:{className:lG()["readonly-cell"]}})},{title:"ダイス",fn:()=>(0,f.cn)({type:"number",title:"ダイス",from:(t,e)=>t.statModificationDiceFamily(e),to:(t,e)=>t.setStatModificationDiceFamily(e)})},{title:"固定値",fn:()=>(0,f.cn)({type:"number",title:"固定値",from:(t,e)=>t.statModificatioValueFamily(e),to:(t,e)=>t.setStatModificationValueFamily(e)})},{title:"判定値",fn:()=>(0,f.cn)({type:"readonly",title:"判定値",from:(t,e)=>(0,f.cn)(l=>{let i=2+l(t.statModificationDiceFamily(e)),n=l(t.statModificatioValueFamily(e))+l(t.statSumAtomFamily(e));return"".concat(i,"D+").concat(n)}),spanProps:{className:lG()["readonly-cell"]}})},{title:"備考",fn:()=>(0,f.cn)({type:"text",title:"備考",from:(t,e)=>t.statModificatioDescriptionFamily(e),to:(t,e)=>t.setStatModificationDescriptionFamily(e)})}],args:lz};var lq=l(8322),lJ=l.n(lq);function lU(t){let{layout:e,title:l,titles:n,rowDefs:a,from:o,to:r}=t;return(0,i.jsxs)("table",{className:(0,b.Z)(lJ().table,e),title:l,children:[(0,i.jsx)(v,{test:n,children:t=>(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:t.map(t=>(0,i.jsx)("th",{children:t},t))})})}),(0,i.jsx)("tbody",{children:a.map(t=>(0,i.jsx)(lQ,{def:t,from:o,to:r},t.id||t.title))})]})}function lQ(t){let{def:e,from:l,to:a}=t;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{test:e.showCellTitles,children:(0,i.jsx)("tr",{"data-heading-row":!0,children:e.cellDefs.map(t=>(0,i.jsx)("th",{children:t.title},t.id||t.title))})}),(0,i.jsxs)("tr",{"data-content-row":!0,children:[(0,i.jsx)(n,{test:e.showRowtitle,children:(0,i.jsx)("th",{children:e.title})}),e.cellDefs.map(t=>(0,i.jsx)(lX,{def:t,from:l,to:a},t.id||t.title))]})]})}function lX(t){let{def:e,from:l,to:n}=t,a=(0,r.useMemo)(()=>e.args(l),[e,l]),o=(0,_.Dv)(a);return(0,i.jsx)("td",{children:(0,i.jsx)("div",{children:e.inputDefs.map(t=>(0,i.jsx)(M,{args:o,def:t,from:l,to:n},t.id||t.title))})})}var l$=l(2350),l0=l.n(l$);function l2(){return(0,i.jsx)(m,{title:"メインステータス",children:(0,i.jsx)(lU,{from:l6,layout:l1,rowDefs:ir,title:l9,titles:l3,to:l8})})}let l1=l0().layout,l9="能力値",l3=["",...ea,"備考"],l6={worksStatAtomFamily:es,bonusStatAtomFamily:em,worksDescriptionAtom:eu,bonusDescriptionAtom:ex,extraBaseStatAtomFamily:eh,extraBaseDescriptionAtom:eb,growthSumDescriptionAtom:e_,growthSumAtomFamily:t7,baseSumDescriptionAtom:ev,baseSumAtomFamily:ej,styleStatAtomFamily:eD,styleStatDescriptionAtom:eF,extraStatAtomFamily:ew,extraStatDescriptionAtom:eN,statSumAtomFamily:eC,statSumDescriptionAtom:eM},l8={setWorksStatAtomFamily:ec,setBonusStatAtomFamily:ef,worksDescriptionAtom:eu,bonusDescriptionAtom:ex,setExtraBaseStatAtomFamily:ey,extraBaseDescriptionAtom:eb,growthSumDescriptionAtom:e_,baseSumDescriptionAtom:ev,baseSumAtomFamily:ej,setStyleStatAtomFamily:eA,styleStatDescriptionAtom:eF,extraStatDescriptionAtom:eN,setExtraStatAtomFamily:eS,statSumDescriptionAtom:eM},l4=(t,e,l,i,n)=>({title:t,showRowtitle:!0,cellDefs:[...ea.map(t=>({title:t,inputDefs:[{title:t,fn:()=>(0,f.cn)(()=>{let i={type:"number",title:t,from:e(t),to:l(t)};return i})}],args:()=>(0,f.cn)(null)})),{title:"備考",inputDefs:[{title:"備考",fn:()=>(0,f.cn)(()=>({type:"text",title:"備考",from:i,to:n}))}],args:()=>(0,f.cn)(null)}]}),l5=l4("ワークス",t=>e=>e.worksStatAtomFamily(t),t=>e=>e.setWorksStatAtomFamily(t),t=>t.worksDescriptionAtom,t=>t.worksDescriptionAtom),l7=l4("初期ボーナス",t=>e=>e.bonusStatAtomFamily(t),t=>e=>e.setBonusStatAtomFamily(t),t=>t.bonusDescriptionAtom,t=>t.bonusDescriptionAtom),it=l4("基本値修正",t=>e=>e.extraBaseStatAtomFamily(t),t=>e=>e.setExtraBaseStatAtomFamily(t),t=>t.extraBaseDescriptionAtom,t=>t.extraBaseDescriptionAtom),ie={title:"成長分",showRowtitle:!0,cellDefs:[...ea.map(t=>({title:t,inputDefs:[{title:t,fn:()=>(0,f.cn)(()=>({type:"readonly",title:t,from:e=>e.growthSumAtomFamily(t)}))}],args:()=>(0,f.cn)(null)})),{title:"備考",inputDefs:[{title:"備考",fn:()=>(0,f.cn)(()=>({type:"text",title:"備考",from:t=>t.growthSumDescriptionAtom,to:t=>t.growthSumDescriptionAtom}))}],args:()=>(0,f.cn)(null)}]},il={title:"基本値合計",showRowtitle:!0,cellDefs:[...ea.map(t=>({title:t,inputDefs:[{title:t,fn:()=>(0,f.cn)(()=>({type:"readonly",title:t,from:e=>e.baseSumAtomFamily(t)}))}],args:()=>(0,f.cn)(null)})),{title:"備考",inputDefs:[{title:"備考",fn:()=>(0,f.cn)(()=>({type:"text",title:"備考",from:t=>t.baseSumDescriptionAtom,to:t=>t.baseSumDescriptionAtom}))}],args:()=>(0,f.cn)(null)}]},ii=l4("スタイル",t=>e=>e.styleStatAtomFamily(t),t=>e=>e.setStyleStatAtomFamily(t),t=>t.styleStatDescriptionAtom,t=>t.styleStatDescriptionAtom),ia=l4("能力値修正",t=>e=>e.extraStatAtomFamily(t),t=>e=>e.setExtraStatAtomFamily(t),t=>t.extraStatDescriptionAtom,t=>t.extraStatDescriptionAtom),io={title:"能力値合計",showRowtitle:!0,cellDefs:[...ea.map(t=>({title:t,inputDefs:[{title:t,fn:()=>(0,f.cn)(()=>({type:"readonly",title:t,from:e=>e.statSumAtomFamily(t)}))}],args:()=>(0,f.cn)(null)})),{title:"備考",inputDefs:[{title:"備考",fn:()=>(0,f.cn)(()=>({type:"text",title:"備考",from:t=>t.statSumDescriptionAtom,to:t=>t.statSumDescriptionAtom}))}],args:()=>(0,f.cn)(null)}]},ir=[l5,l7,ie,it,il,ii,ia,io];function is(){return(0,i.jsx)(c,{children:(0,i.jsx)("main",{className:en().main,children:(0,i.jsxs)(n,{test:!0,children:[(0,i.jsx)(tI,{}),(0,i.jsx)(l2,{}),(0,i.jsx)(lM,{}),(0,i.jsx)(lB,{}),(0,i.jsx)(lx,{}),(0,i.jsx)(tl,{}),(0,i.jsx)(td,{}),(0,i.jsx)(ty,{}),(0,i.jsx)(eO,{}),(0,i.jsx)(el,{})]})})})}},5693:function(t,e,l){Promise.resolve().then(l.t.bind(l,4912,23)),Promise.resolve().then(l.bind(l,6058))},1868:function(t){t.exports={"chapter-title":"chapter-title_chapter-title__erAC3",chapter:"chapter-title_chapter__ueq41"}},9928:function(t){t.exports={"toggle-box":"toggle-box_toggle-box__9TMMj",list:"toggle-box_list__1lwAV","item-button":"toggle-box_item-button__YkPsG"}},4912:function(t){t.exports={base:"page-base_base__ROwwG",main:"page-base_main__va1Ag",header:"page-base_header__8BY0Y",title:"page-base_title__nlMQ0",footer:"page-base_footer__rXwKS"}},4946:function(t){t.exports={"animate-height":"use-animate-height_animate-height__YsVrr"}},1903:function(t){t.exports={modal:"modal_modal__YUvAw"}},8322:function(t){t.exports={table:"plain-table_table__GAPqI"}},3361:function(t){t.exports={show:"ruby-input_show__eWB6Z",wrapper:"ruby-input_wrapper__m2qrW",description:"ruby-input_description__3K5WA",modal:"ruby-input_modal__tNkTl",close:"ruby-input_close__H8ka8","modal-title":"ruby-input_modal-title____eb5",input:"ruby-input_input__6Nl2Y"}},8147:function(t){t.exports={"sortable-list":"sortable-list_sortable-list__4Dyi3",table:"sortable-list_table__xxGGO",items:"sortable-list_items__2ivFq","head-contaienr":"sortable-list_head-contaienr__KpDZT","head-list":"sortable-list_head-list___VCLh head-list","content-container":"sortable-list_content-container__j0I3_","dragging-border":"sortable-list_dragging-border__nnHw1",content:"sortable-list_content__owOLO","content-list":"sortable-list_content-list___T9wH content-list","handle-container":"sortable-list_handle-container__t2_V5",details:"sortable-list_details__QlhHw","details-list":"sortable-list_details-list__LgQo5",controller:"sortable-list_controller__BwKXn","controller-button":"sortable-list_controller-button__la9fZ",hide:"sortable-list_hide__KkNO5"}},337:function(t){t.exports={wrapper:"html-input_wrapper__oZghA","extra-text":"html-input_extra-text__OEsS4","open-button":"html-input_open-button__IOwfK",modal:"html-input_modal__4p6be",close:"html-input_close__I92Ki","modal-title":"html-input_modal-title__Cj5i_",description:"html-input_description__MRzfY",textarea:"html-input_textarea__TGWsR"}},120:function(t){t.exports={input:"user-input_input__YnAjW","read-only":"user-input_read-only__JpgVb","checkbox-label":"user-input_checkbox-label__AzsV_"}},3304:function(t){t.exports={container:"vertical-table_container__m8_s5",table:"vertical-table_table__ZjxMw",column:"vertical-table_column__pP3ws"}},3940:function(t){t.exports={"ability-layout":"ability-list_ability-layout__98OtZ","magic-layout":"ability-list_magic-layout__uh3AS"}},600:function(t){t.exports={"table-layout":"armie-table_table-layout__ecsoR","abilities-layout":"armie-table_abilities-layout__rdlIx"}},371:function(t){t.exports={layout:"armor-list_layout__kvkSy"}},3923:function(t){t.exports={"base-info":"base-info_base-info__W4MbO","character-name":"base-info_character-name__0hVz0","class-info":"base-info_class-info__cG073","character-level":"base-info_character-level__upqlO","level-input":"base-info_level-input__LJ1Cy","style-input":"base-info_style-input__Puk10"}},3317:function(t){t.exports={main:"gcr_main__UXLL_","large-item":"gcr_large-item__P4Hgz"}},5840:function(t){t.exports={layout:"growth-list_layout__o201H","stat-select":"growth-list_stat-select__fgta1","stat-button":"growth-list_stat-button__hjgJi",abilities:"growth-list_abilities__9Jpa9","abilities-item":"growth-list_abilities-item__u2xmJ"}},6960:function(t){t.exports={layout:"skill-dice-modification_layout__mMemu","readonly-cell":"skill-dice-modification_readonly-cell__6rroP"}},5262:function(t){t.exports={layout:"skill-table_layout__1NVBp",title:"skill-table_title__2G7Uw",controller:"skill-table_controller__ZCmRH","controller-button":"skill-table_controller-button__lEUyG","level-selector":"skill-table_level-selector__vYJZk","level-button":"skill-table_level-button__x1w42"}},8581:function(t){t.exports={layout:"stat-dice-modification_layout__bc7Mb","readonly-cell":"stat-dice-modification_readonly-cell__0BTDj"}},2350:function(t){t.exports={layout:"stat-table_layout__r2B_1"}}},function(t){t.O(0,[332,667,961,744],function(){return t(t.s=5693)}),_N_E=t.O()}]);